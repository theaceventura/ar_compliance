{% extends "base.html" %}

{% block content %}
<h2 class="text-xl font-semibold mb-4">Admin Dashboard</h2>

<div class="bg-white shadow rounded relative mb-6" data-widget-id="admin-dashboard-companies">
    <div class="bg-slate-100 px-3 py-2 rounded-t font-semibold text-slate-700">Companies</div>
    <div class="p-4">
        <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
            <div class="bg-slate-50 border border-slate-100 p-4 rounded text-center">
                <div class="text-sm text-slate-500">Total companies</div>
                <div class="text-2xl">{{ total_companies }}</div>
            </div>
            <div class="bg-slate-50 border border-slate-100 p-4 rounded text-center">
                <div class="text-sm text-slate-500">Active companies</div>
                <div class="text-2xl text-green-700">{{ active_companies }}</div>
            </div>
            <div class="bg-slate-50 border border-slate-100 p-4 rounded text-center">
                <div class="text-sm text-slate-500">Deactivated companies</div>
                <div class="text-2xl text-slate-700">{{ total_companies - active_companies }}</div>
            </div>
        </div>
        <div class="flex justify-end mt-2">
            <a class="text-blue-600 hover:underline text-xs" href="/admin/companies">Manage Companies</a>
        </div>
    </div>
</div>

<div class="bg-white shadow rounded relative" data-widget-id="admin-dashboard-cards">
    <div class="bg-slate-100 px-3 py-2 rounded-t font-semibold text-slate-700">Users</div>
    <div class="p-4">
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div class="bg-slate-50 border border-slate-100 p-4 rounded text-center">
                <div class="text-sm text-slate-500">Total users</div>
                <div class="text-2xl">{{ total_users }}</div>
            </div>
            <div class="bg-slate-50 border border-slate-100 p-4 rounded text-center">
                <div class="text-sm text-slate-500">Admins</div>
                <div class="text-2xl">{{ total_admins }}</div>
            </div>
        </div>
        <div class="flex justify-end mt-2">
            <a class="text-blue-600 hover:underline text-xs" href="/admin/users">Manage Users</a>
        </div>
    </div>
</div>

<div class="bg-white shadow rounded relative mt-6" data-widget-id="admin-dashboard-task-tiles">
    <div class="bg-slate-100 px-3 py-2 rounded-t font-semibold text-slate-700">Tasks</div>
    <div class="p-4">
        <div class="grid grid-cols-1 md:grid-cols-5 gap-3">
            <div class="bg-slate-50 border border-slate-100 p-3 rounded text-center">
                <div class="text-sm text-slate-500">Assignments</div>
                <div class="text-2xl font-semibold">{{ task_total }}</div>
            </div>
            <div class="bg-slate-50 border border-slate-100 p-3 rounded text-center">
                <div class="text-sm text-slate-500">Completed</div>
                <div class="text-2xl font-semibold text-green-700">{{ task_completed }} / {{ task_total }}</div>
            </div>
            <div class="bg-slate-50 border border-slate-100 p-3 rounded text-center">
                <div class="text-sm text-slate-500">Pending</div>
                <div class="text-2xl font-semibold text-amber-700">{{ task_pending }} / {{ task_total }}</div>
            </div>
            <div class="bg-slate-50 border border-slate-100 p-3 rounded text-center">
                <div class="text-sm text-slate-500">Overdue</div>
                <div class="text-2xl font-semibold text-red-700">{{ task_overdue }} / {{ task_total }}</div>
            </div>
            <div class="bg-slate-50 border border-slate-100 p-3 rounded text-center">
                <div class="text-sm text-slate-500">Compliance</div>
                <div class="text-2xl font-semibold text-emerald-700">{{ task_compliance }}%</div>
            </div>
        </div>
        <div class="flex justify-end mt-2">
            <a class="text-blue-600 hover:underline text-xs" href="/admin/tasks">Manage Tasks</a>
        </div>
    </div>
</div>

{% endblock %}
